<div class="min-h-[calc(100vh-64px)] bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 font-sans">
  
  @if (selectedFacultad()) {
    <!-- Content View -->
    <div class="max-w-7xl mx-auto space-y-6">
      
      <!-- Top Bar: Faculty Info & Actions -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col sm:flex-row justify-between items-center gap-4 transition-all hover:shadow-md">
        <div class="flex items-center gap-4">
           <div class="h-12 w-12 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600 shadow-inner">
             <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
             </svg>
           </div>
           <div class="text-center sm:text-left">
             <h2 class="text-xl font-bold text-gray-900 leading-tight">{{ selectedFacultad()?.facultad?.nombre }}</h2>
             <p class="text-sm text-gray-500 font-medium">Panel de Control</p>
           </div>
        </div>
        
        <button (click)="changeFacultad()" class="group flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-sm">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2 text-gray-400 group-hover:text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
          </svg>
          Cambiar Facultad
        </button>
      </div>

      <!-- Main Content Area -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8 min-h-[400px] flex flex-col items-center justify-center text-center">
        <div class="bg-indigo-50 rounded-full p-6 mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Bienvenido al Panel de Gestión</h3>
        <p class="text-gray-500 max-w-md">Has seleccionado exitosamente la facultad. Aquí podrás acceder a todas las funcionalidades administrativas disponibles.</p>
      </div>
    </div>

  } @else {
    <!-- Selector View -->
    <div class="flex flex-col items-center justify-center pt-10 px-4">
      <div class="w-full max-w-md bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 transform transition-all">
        <!-- Header -->
        <div class="bg-gradient-to-r from-blue-600 to-indigo-700 px-8 py-10 text-center relative overflow-hidden">
           <div class="absolute inset-0 bg-white opacity-10 pattern-dots"></div>
           <h2 class="text-2xl font-bold text-white relative z-10">Seleccionar Facultad</h2>
           <p class="text-blue-100 mt-2 text-sm relative z-10 font-medium">Elige la unidad académica para gestionar</p>
        </div>
        
        <div class="p-8">
           @if (isLoading()) {
             <div class="flex flex-col items-center justify-center py-8">
               <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"></div>
               <p class="mt-4 text-gray-500 font-medium animate-pulse">Cargando facultades...</p>
             </div>
           }

           @if (hasError()) {
             <div class="bg-red-50 border border-red-200 rounded-xl p-6 mb-4 text-center">
               <div class="inline-flex items-center justify-center h-12 w-12 rounded-full bg-red-100 text-red-500 mb-4">
                 <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                 </svg>
               </div>
               <p class="text-gray-800 font-medium mb-1">Ocurrió un error</p>
               <p class="text-red-600 text-sm mb-4">{{ errorMessage() }}</p>
               <button (click)="loadFacultades()" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors">
                 Intentar nuevamente
               </button>
             </div>
           }

           @if (!isLoading() && !hasError()) {
             <div class="space-y-5">
               <div>
                 <label for="facultad-select" class="block text-sm font-semibold text-gray-700 mb-2">Facultad</label>
                 <div class="relative">
                   <select 
                     id="facultad-select" 
                     (change)="onFacultadChange($event)"
                     class="appearance-none block w-full pl-4 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-xl border shadow-sm bg-gray-50 hover:bg-white transition-colors cursor-pointer text-gray-700"
                     [disabled]="facultades().length === 0">
                     <option value="" disabled selected>-- Selecciona una opción --</option>
                     <option 
                       *ngFor="let facultad of facultades()" 
                       [value]="facultad.facultadId">
                       {{ facultad.facultad.nombre }}
                     </option>
                   </select>
                   <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500">
                     <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                     </svg>
                   </div>
                 </div>
               </div>
               
               <div class="pt-2">
                 <div class="flex items-center justify-center space-x-2 text-xs text-gray-400">
                   <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                   </svg>
                   <span>Selecciona tu unidad académica para comenzar</span>
                 </div>
               </div>
             </div>
           }
        </div>
      </div>
    </div>
  }
</div>